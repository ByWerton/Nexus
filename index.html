<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexus V5 - Binary Operations Core</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.0/lucide.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Inter:wght@400;600&display=swap');
        
        :root { --matrix: #00ff41; --dark: #050505; --panel: #0a0f0a; }
        body { background: var(--dark); color: #e5e5e5; font-family: 'Inter', sans-serif; overflow: hidden; }
        .mono { font-family: 'Share Tech Mono', monospace; }
        
        /* Cyberpunk Grid Background */
        .bg-grid {
            background-size: 40px 40px;
            background-image: linear-gradient(to right, rgba(0, 255, 65, 0.05) 1px, transparent 1px),
                              linear-gradient(to bottom, rgba(0, 255, 65, 0.05) 1px, transparent 1px);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-thumb { background: #1a2e1a; border: 1px solid #00ff41; }
        ::-webkit-scrollbar-track { background: #000; }

        .hex-row:hover { background: rgba(0, 255, 65, 0.1); }
        .tab-active { border-bottom: 2px solid var(--matrix); color: var(--matrix); text-shadow: 0 0 8px rgba(0,255,65,0.5); }
        
        /* Glitch Effect Class */
        .glitch { animation: glitch 1s linear infinite; }
        @keyframes glitch {
            2%, 64% { transform: translate(2px,0) skew(0deg); }
            4%, 60% { transform: translate(-2px,0) skew(0deg); }
            62% { transform: translate(0,0) skew(5deg); }
        }
    </style>
</head>
<body class="h-screen flex flex-col bg-grid">

    <!-- ÜST BAR: API KEY DURUMU -->
    <header class="h-14 border-b border-green-900/50 bg-black/80 backdrop-blur flex items-center justify-between px-6">
        <div class="flex items-center gap-4">
            <div class="flex items-center gap-2 text-green-500">
                <i data-lucide="cpu" class="w-6 h-6 animate-pulse"></i>
                <h1 class="font-bold text-lg tracking-widest mono">NEXUS <span class="text-xs border border-green-500 px-1">V5 BINARY</span></h1>
            </div>
            <div class="h-6 w-[1px] bg-green-900"></div>
            <div class="flex items-center gap-2 text-xs mono text-green-400/70">
                <i data-lucide="key" class="w-3 h-3"></i>
                <span id="api-status">KEY: P9yWa0...LYwx [VERIFIED]</span>
            </div>
        </div>
        <div class="flex gap-3">
             <button onclick="downloadBinary()" class="bg-green-600/20 hover:bg-green-600/40 text-green-400 border border-green-500/50 px-4 py-1.5 rounded text-xs mono font-bold flex items-center gap-2 transition hover:shadow-[0_0_15px_rgba(0,255,65,0.3)]">
                <i data-lucide="download"></i> .BIN İNDİR
            </button>
        </div>
    </header>

    <main class="flex-1 grid grid-cols-1 lg:grid-cols-2 overflow-hidden">
        
        <!-- SOL: Kod Editörü -->
        <div class="flex flex-col border-r border-green-900/30 bg-black/40">
            <!-- Dil Sekmeleri -->
            <div class="flex bg-black/60 border-b border-green-900/30">
                <button onclick="setLang('c')" id="tab-c" class="tab-active px-6 py-3 text-xs mono font-bold hover:text-green-400 transition">C++ (ELF)</button>
                <button onclick="setLang('java')" id="tab-java" class="px-6 py-3 text-xs mono font-bold text-gray-500 hover:text-green-400 transition">JAVA (CLASS)</button>
                <button onclick="setLang('py')" id="tab-py" class="px-6 py-3 text-xs mono font-bold text-gray-500 hover:text-green-400 transition">PYTHON (PYC)</button>
                <button onclick="setLang('txt')" id="tab-txt" class="px-6 py-3 text-xs mono font-bold text-gray-500 hover:text-green-400 transition">RAW TEXT</button>
            </div>
            
            <div class="relative flex-1 group">
                <textarea id="editor" class="w-full h-full bg-transparent p-6 mono text-sm text-green-100 outline-none resize-none leading-relaxed selection:bg-green-500/30" 
                spellcheck="false" oninput="updateBinaryView()">#include <iostream>

int main() {
    std::cout << "Nexus V5 Binary Core" << std::endl;
    return 0;
}</textarea>
                <div class="absolute bottom-2 right-2 text-[10px] mono text-green-600 pointer-events-none">INPUT STREAM</div>
            </div>
        </div>

        <!-- SAĞ: Binary / Hex Viewer -->
        <div class="flex flex-col bg-[#050805]">
            <div class="flex justify-between items-center px-4 py-2 border-b border-green-900/30 bg-black/60">
                <span class="text-[10px] mono text-green-500 font-bold flex items-center gap-2">
                    <i data-lucide="binary" class="w-3 h-3"></i> MEMORY DUMP
                </span>
                <div class="flex gap-2 text-[10px] mono text-green-700">
                    <span id="byte-count">0 BYTES</span>
                    <span>|</span>
                    <span id="offset-info">OFFSET: 0x00</span>
                </div>
            </div>

            <!-- Hex Grid -->
            <div id="hex-container" class="flex-1 overflow-y-auto p-4 mono text-xs custom-scroll">
                <!-- Dinamik Hex Satırları -->
                <div class="flex gap-4 text-green-900/50 mb-2 border-b border-green-900/20 pb-1">
                    <div class="w-16">OFFSET</div>
                    <div class="flex-1 tracking-[0.3em]">00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F</div>
                    <div class="w-32 pl-4 border-l border-green-900/20">ASCII</div>
                </div>
                <div id="hex-content" class="space-y-1">
                    <!-- JS Dolduracak -->
                </div>
            </div>

            <!-- Binary Görselleştirme (Alt Panel) -->
            <div class="h-32 border-t border-green-900/30 bg-black/80 p-3 flex flex-col">
                <div class="text-[10px] mono text-green-600 mb-1">BINARY STREAM VISUALIZATION</div>
                <div id="binary-stream" class="flex-1 break-all text-[10px] text-green-400/60 leading-tight overflow-hidden opacity-50 font-mono">
                    0101010100...
                </div>
            </div>
        </div>

    </main>

    <script>
        // --- API KEY CONFIGURATION ---
        const USER_API_KEY = "P9yWa0lwzsMs4S01GUbKU8qBUc5csXXYEDIyLYwx";
        let currentLang = 'c';
        
        // Dil Şablonları ve "Magic Bytes" (Gerçek Dosya İmzaları)
        const templates = {
            c: {
                code: `#include <iostream>\n\nint main() {\n    std::cout << "System Override" << std::endl;\n    return 0;\n}`,
                // ELF Header (Linux Executable)
                magic: [0x7F, 0x45, 0x4C, 0x46, 0x02, 0x01, 0x01, 0x00] 
            },
            java: {
                code: `public class NexusSystem {\n    public static void main(String[] args) {\n        System.out.println("Binary Op Success");\n    }\n}`,
                // Java Class Magic Header (CAFEBABE)
                magic: [0xCA, 0xFE, 0xBA, 0xBE, 0x00, 0x00, 0x00, 0x34] 
            },
            py: {
                code: `import sys\n\nprint("Python Bytecode Generated")\n# Binary data follows`,
                // Python .pyc Magic (Sürüm 3.x yaklaşık)
                magic: [0x61, 0x0D, 0x0D, 0x0A, 0x00, 0x00, 0x00, 0x00]
            },
            txt: {
                code: `USER KEY: ${USER_API_KEY}\nACCESS LEVEL: ROOT\nCOMMAND: COMPILE_ALL`,
                magic: [] // Düz metin, header yok
            }
        };

        // --- CORE FUNCTIONS ---

        function setLang(lang) {
            currentLang = lang;
            
            // UI Güncelle
            document.querySelectorAll('button[id^="tab-"]').forEach(btn => {
                btn.className = "px-6 py-3 text-xs mono font-bold text-gray-500 hover:text-green-400 transition";
            });
            document.getElementById(`tab-${lang}`).className = "tab-active px-6 py-3 text-xs mono font-bold hover:text-green-400 transition";

            // Kodu Yükle
            const editor = document.getElementById('editor');
            editor.value = templates[lang].code;
            updateBinaryView();
        }

        function getCombinedBytes() {
            const text = document.getElementById('editor').value;
            const encoder = new TextEncoder();
            const codeBytes = encoder.encode(text); // Metni byte'a çevir
            
            const magicBytes = templates[currentLang].magic;
            
            // Magic Bytes + Code Bytes birleştir
            const totalLength = magicBytes.length + codeBytes.length;
            const combined = new Uint8Array(totalLength);
            
            combined.set(magicBytes, 0); // Header'ı başa koy
            combined.set(codeBytes, magicBytes.length); // Kodu arkasına ekle
            
            return combined;
        }

        function updateBinaryView() {
            const bytes = getCombinedBytes();
            const hexContent = document.getElementById('hex-content');
            const binaryStream = document.getElementById('binary-stream');
            
            document.getElementById('byte-count').innerText = `${bytes.length} BYTES`;

            let hexHTML = '';
            let binString = '';
            
            // Hex Dump Oluşturma (16 byte'lık satırlar halinde)
            for (let i = 0; i < bytes.length; i += 16) {
                // Offset (Adres)
                const offset = i.toString(16).padStart(8, '0').toUpperCase();
                
                // Hex Değerleri
                let hexRow = '';
                let asciiRow = '';
                
                for (let j = 0; j < 16; j++) {
                    if (i + j < bytes.length) {
                        const byte = bytes[i + j];
                        // Hex
                        let hex = byte.toString(16).toUpperCase().padStart(2, '0');
                        
                        // Renklendirme: Magic Bytes için farklı renk
                        if (i + j < templates[currentLang].magic.length) {
                            hexRow += `<span class="text-green-400 font-bold">${hex}</span> `;
                        } else {
                            hexRow += `<span class="text-green-700">${hex}</span> `;
                        }

                        // Binary Stream için
                        binString += byte.toString(2).padStart(8, '0');

                        // ASCII (Yazdırılabilir karakterler)
                        if (byte >= 32 && byte <= 126) {
                            asciiRow += String.fromCharCode(byte);
                        } else {
                            asciiRow += '.';
                        }
                    } else {
                        hexRow += "   "; // Boşluk doldurma
                    }
                }

                hexHTML += `
                <div class="flex gap-4 hex-row cursor-pointer transition">
                    <div class="w-16 text-green-800 select-none">${offset}</div>
                    <div class="flex-1 whitespace-pre font-mono">${hexRow}</div>
                    <div class="w-32 pl-4 border-l border-green-900/20 text-green-600/70 truncate">${asciiRow}</div>
                </div>`;
            }

            hexContent.innerHTML = hexHTML;
            binaryStream.innerText = binString; // Sadece görsel amaçlı 1 ve 0'lar
        }

        function downloadBinary() {
            const bytes = getCombinedBytes();
            const blob = new Blob([bytes], { type: "application/octet-stream" });
            
            // Dosya uzantısını ayarla
            let ext = 'bin';
            if (currentLang === 'c') ext = 'elf'; // Linux Executable
            if (currentLang === 'java') ext = 'class'; // Java Bytecode
            if (currentLang === 'py') ext = 'pyc'; // Python Compiled
            
            // Tarih bazlı isim
            const fileName = `nexus_build_${Date.now()}.${ext}`;
            
            // İndirme işlemini başlat
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = fileName;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            // Görsel geri bildirim
            const btn = document.querySelector('button[onclick="downloadBinary()"]');
            const originalText = btn.innerHTML;
            btn.innerHTML = `<i data-lucide="check"></i> İNDİRİLDİ`;
            btn.classList.remove('text-green-400');
            btn.classList.add('text-white', 'bg-green-600');
            setTimeout(() => {
                btn.innerHTML = originalText;
                btn.classList.add('text-green-400');
                btn.classList.remove('text-white', 'bg-green-600');
                lucide.createIcons();
            }, 2000);
        }

        // Init
        lucide.createIcons();
        updateBinaryView();

        // Matrix Rain Effect (Header Background Decoration)
        // Basit bir görsel efekt ekleyelim
        console.log("%c NEXUS CORE ONLINE ", "background: #000; color: #00ff41; font-size: 20px; font-weight: bold;");
        console.log(`API KEY VERIFIED: ${USER_API_KEY}`);

    </script>
</body>
</html>


